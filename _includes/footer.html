<footer class="minimalist-footer">
 <img src="images/lazi-voyage/logo-lazi-update.png" alt="Lazi Voyage" class="footer-logo">
 <p><strong>Blog văn hóa Việt</strong></p>
 <div class="social-circle">
  <a href="https://instagram.com/josvu19"><i class="fab fa-instagram"></i></a>
  <a href="https://facebook.com/josvu19"><i class="fab fa-facebook"></i></a>
  <a href="https://fr.pinterest.com/goavecjo/"><i class="fab fa-pinterest"></i></a>
  <a href="https://x.com/guidefrvietnam"><i class="fab fa-twitter"></i></a>
  <a href="https://linkedin.com/in/guidefrancophonevietnam/"><i class="fab fa-linkedin"></i></a>
  <a href="https://lazivoyage.wordpress.com"><i class="fa-brands fa-wordpress-simple"></i></a>
 </div>
 <div class="copyright">© 2023 Lazi Voyage | All Rights Reserved</div>
 
 <!-- Floating Buttons -->
 <div class="floating-buttons">
     <!-- Back to Top Button -->
     <a id="backToTop" class="floating-btn" title="Lên đầu trang">
         <i class="fa-regular fa-circle-up"></i>
     </a>
     
     <!-- Blog Button -->
     <a href="https://lazivoyage.blogspot.com" class="floating-btn blog-btn" title="Blog Văn Hoá Việt">
         <i class="fas fa-blog"></i>
     </a>
 </div>
</footer>

<script>
console.log('=== INITIALIZING BACK TO TOP ===');

document.addEventListener('DOMContentLoaded', function() {
    const backToTopBtn = document.getElementById('backToTop');
    const blogBtn = document.querySelector('.blog-btn');
    
    console.log('Back to Top button:', backToTopBtn);
    console.log('Blog button:', blogBtn);
    
    if (!backToTopBtn) {
        console.error('❌ Back to Top button not found!');
        return;
    }
    
    console.log('✅ Back to Top button found, adding functionality...');
    
    // 1. Hiển thị/ẩn nút khi scroll
    function toggleBackToTop() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > 300) {
            backToTopBtn.classList.add('visible');
            backToTopBtn.style.opacity = '1';
            backToTopBtn.style.transform = 'translateY(0)';
        } else {
            backToTopBtn.classList.remove('visible');
            backToTopBtn.style.opacity = '0';
            backToTopBtn.style.transform = 'translateY(20px)';
        }
    }
    
    // 2. Chức năng scroll to top
    function scrollToTop(e) {
        console.log('🎯 Back to Top clicked!');
        e.preventDefault();
        
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    }
    
    // 3. Hover effects
    function setupHoverEffects() {
        [backToTopBtn, blogBtn].forEach(btn => {
            if (btn) {
                btn.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px)';
                    this.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.15)';
                });
                
                btn.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('visible') && this.id === 'backToTop') {
                        this.style.transform = 'translateY(20px)';
                    } else {
                        this.style.transform = 'translateY(0)';
                    }
                    this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.1)';
                });
            }
        });
    }
    
    // 4. Gắn event listeners
    window.addEventListener('scroll', toggleBackToTop);
    backToTopBtn.addEventListener('click', scrollToTop);
    
    // 5. Khởi tạo
    setupHoverEffects();
    toggleBackToTop(); // Kiểm tra ngay lập tức
    
    console.log('✅ Back to Top functionality added successfully!');
    
    // Test: Force hiển thị nút để test click
    setTimeout(() => {
        console.log('🧪 TEST: Forcing button visible for testing');
        backToTopBtn.style.opacity = '1';
        backToTopBtn.style.transform = 'translateY(0)';
        backToTopBtn.classList.add('visible');
    }, 2000);
});

// Fallback nếu DOMContentLoaded không hoạt động
window.addEventListener('load', function() {
    console.log('🔄 Window loaded, rechecking back to top...');
    const backToTopBtn = document.getElementById('backToTop');
    if (backToTopBtn && !backToTopBtn.hasAttribute('data-initialized')) {
        backToTopBtn.setAttribute('data-initialized', 'true');
        backToTopBtn.addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }
});
</script>
